<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>DOOMSDAY TOURNAMENT 2026</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Impact','Arial Black',sans-serif}
body{background:url('https://kimi-web-img.moonshot.cn/img/images5.alphacoders.com/7330b86c73698afcbf02f97bd73ea3d4ad272e5b.jpeg') center/cover fixed #000;color:#fff;min-height:100vh;text-transform:uppercase;overflow-x:hidden}
.overlay{background:rgba(0,0,0,.9);min-height:100vh;padding:20px}
.container{max-width:1400px;margin:0 auto}
h1{text-align:center;font-size:2.5em;margin-bottom:10px;text-shadow:0 0 30px #ff0000;background:linear-gradient(180deg,#ff0000,#8b0000);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:3px}
.nav{display:flex;gap:8px;justify-content:center;margin-bottom:20px;flex-wrap:wrap;position:sticky;top:0;z-index:100;background:rgba(0,0,0,.9);padding:10px;border-radius:5px;border:3px solid #ff0000;box-shadow:0 0 20px #ff0000}
.nav button{width:auto;padding:10px 20px;background:linear-gradient(45deg,#8b0000,#ff0000);border:2px solid #000;font-size:.9em;clip-path:polygon(10% 0,100% 0,90% 100%,0 100%);transition:.2s}
.nav button:hover{background:#ff0000;transform:scale(1.1)}
.nav button.active{background:#ffd700;color:#000}
.card{background:rgba(139,0,0,.3);backdrop-filter:blur(10px);border-radius:5px;padding:20px;margin:15px 0;border:3px solid #ff0000;box-shadow:0 0 20px rgba(255,0,0,.5);position:relative;overflow:hidden}
.card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent,#ff0000,transparent)}
input,select,button{width:100%;padding:12px;margin:8px 0;border:2px solid #ff0000;background:rgba(0,0,0,.8);color:#fff;font-size:1em;clip-path:polygon(5% 0,100% 0,95% 100%,0 100%)}
input::placeholder{color:#888}
button{cursor:pointer;transition:.3s;text-transform:uppercase;font-weight:bold}
button:hover{background:#ff0000;box-shadow:0 0 30px #ff0000}
.hidden{display:none !important}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:15px}
table{width:100%;border-collapse:collapse;font-size:.85em;cursor:pointer;transition:.3s}
th,td{padding:12px 8px;text-align:center;border:2px solid #8b0000;white-space:nowrap}
th{background:linear-gradient(180deg,#8b0000,#000);color:#ffd700;font-size:.9em}
tr:nth-child(odd){background:rgba(139,0,0,.2)}
tr:hover{background:rgba(255,0,0,.3)}
.pos1{background:linear-gradient(90deg,#ffd700,#ffed4e);color:#000;font-weight:bold}
.pos2{background:linear-gradient(90deg,#c0c0c0,#e8e8e8);color:#000}
.pos3{background:linear-gradient(90deg,#cd7f32,#daa520);color:#000}
.fullscreen{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000;background:rgba(0,0,0,.98);padding:40px;overflow:auto;display:none}
.fullscreen.active{display:block}
.fullscreen table{font-size:1.2em}
.fullscreen th{padding:20px}
.fullscreen td{padding:15px}
.close-fs{position:fixed;top:20px;right:20px;background:#ff0000;border:3px solid #ffd700;width:50px;height:50px;border-radius:50%;font-size:1.5em;z-index:1001;cursor:pointer}
.lootbox{width:200px;height:200px;margin:20px auto;background:radial-gradient(circle,#8b0000,#000);border:5px solid #ff0000;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:3em;cursor:pointer;transition:.3s;box-shadow:0 0 50px #ff0000;position:relative}
.lootbox.spin{animation:doomSpin .5s linear infinite}
@keyframes doomSpin{0%{transform:rotate(0deg) scale(1)}50%{transform:rotate(180deg) scale(1.1)}100%{transform:rotate(360deg) scale(1)}}
.lootbox.doom{background:radial-gradient(circle,#ff0000,#8b0000);animation:doomPulse 1s infinite}
@keyframes doomPulse{0%,100%{box-shadow:0 0 50px #ff0000}50%{box-shadow:0 0 100px #ff0000}}
.match{display:flex;justify-content:space-between;align-items:center;padding:15px;background:rgba(0,0,0,.8);border:3px solid #ff0000;margin:10px 0;clip-path:polygon(3% 0,100% 0,97% 100%,0 100%);flex-wrap:wrap}
.vs{font-size:2.5em;font-weight:bold;color:#ffd700;text-shadow:0 0 20px #ff0000;margin:10px}
.upload-area{border:3px dashed #ff0000;padding:20px;text-align:center;cursor:pointer;transition:.3s;background:rgba(139,0,0,.2)}
.upload-area:hover{border-color:#ffd700;background:rgba(255,215,0,.1)}
#liveFeed,#galleryGrid{max-height:400px;overflow-y:auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px}
.feed-item{padding:15px;border-left:5px solid #ff0000;background:rgba(0,0,0,.8);animation:doomIn .5s;clip-path:polygon(0 0,100% 0,95% 100%,0 100%)}
@keyframes doomIn{from{opacity:0;transform:translateX(-50px)}}
.online{display:inline-block;width:10px;height:10px;background:#00ff00;border-radius:50%;margin-right:5px;box-shadow:0 0 8px #00ff00;animation:blink 1.5s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}
.offline{background:#ff0000;box-shadow:0 0 8px #ff0000}
.badge{display:inline-block;padding:4px 8px;background:#ff0000;color:#fff;font-size:.8em;margin-left:5px;clip-path:polygon(15% 0,100% 0,85% 100%,0 100%)}
.div-tag{background:#ffd700;color:#000;padding:2px 6px;font-size:.7em;clip-path:polygon(20% 0,100% 0,80% 100%,0 100%)}
.gallery-item{position:relative;border:3px solid #ff0000;overflow:hidden;cursor:pointer;transition:.3s}
.gallery-item:hover{transform:scale(1.05);z-index:10;box-shadow:0 0 30px #ff0000}
.gallery-item img{width:100%;height:180px;object-fit:cover}
.gallery-item .info{position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,.9);padding:8px;font-size:.8em;border-top:2px solid #ff0000}
.stats{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin:15px 0}
.stat-box{background:rgba(139,0,0,.5);padding:12px;text-align:center;border:2px solid #ff0000;clip-path:polygon(10% 0,100% 0,90% 100%,0 100%)}
.stat-box h3{color:#ffd700;font-size:1.8em}
#onlinePanel{background:rgba(0,0,0,.9);border:3px solid #ff0000;padding:15px;margin-bottom:20px;border-radius:5px;box-shadow:0 0 20px #ff0000}
#onlineList{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;max-height:150px;overflow-y:auto}
.online-card{background:linear-gradient(45deg,#004d00,#008000);border:2px solid #00ff00;padding:8px 15px;border-radius:5px;font-size:.9em;display:flex;align-items:center;animation:pulseGreen 2s infinite}
@keyframes pulseGreen{0%,100%{box-shadow:0 0 5px #00ff00}50%{box-shadow:0 0 20px #00ff00}}
.player-status{padding:5px;display:flex;align-items:center;background:rgba(255,0,0,.2);border:1px solid #ff0000;margin:3px;border-radius:3px}
.music-player{position:fixed;bottom:20px;right:20px;background:rgba(0,0,0,.9);border:3px solid #ff0000;padding:15px;border-radius:10px;z-index:99;max-width:300px}
.music-player input{width:100%;margin-bottom:10px;font-size:.8em}
#tapHint{text-align:center;color:#ffd700;font-size:.8em;margin-top:5px;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
.expand-hint{position:absolute;top:10px;right:10px;background:#ffd700;color:#000;padding:5px 10px;font-size:.7em;clip-path:polygon(10% 0,100% 0,90% 100%,0 100%)}
</style>
</head>
<body>
<div class="overlay">
<div class="container">
<h1>‚ò†Ô∏è DOOMSDAY TOURNAMENT ‚ò†Ô∏è</h1>
<h3 style="text-align:center;color:#ff0000;margin-bottom:15px;font-size:1em">eFootball 2026 - Only The Strong Survive</h3>

<div id="login" class="card">
<h2 style="color:#ff0000;text-align:center;margin-bottom:15px">Enter The Killing Field</h2>
<div class="grid">
<div>
<input type="text" id="username" placeholder="Warrior Tag" required>
<input type="text" id="coach" placeholder="Coach Name" required>
<input type="number" id="strength" placeholder="Team Strength" required>
</div>
<div>
<input type="text" id="player" placeholder="Ace Player" required>
<select id="division" required>
<option value="">Select Division</option>
<option value="1">Div 1 - GOD</option>
<option value="2">Div 2 - ELITE</option>
<option value="3">Div 3 - MASTER</option>
<option value="4">Div 4 - DIAMOND</option>
<option value="5">Div 5 - PLATINUM</option>
<option value="6">Div 6 - GOLD</option>
<option value="7">Div 7 - SILVER</option>
<option value="8">Div 8 - BRONZE</option>
<option value="9">Div 9 - ROOKIE</option>
</select>
<button onclick="register()" style="background:#ff0000;font-size:1.2em">JOIN WAR</button>
</div>
</div>
</div>

<div id="dashboard" class="hidden">
<div class="nav" id="mainNav">
<button onclick="showTab('home')" id="nav-home">üè† HQ</button>
<button onclick="showTab('loot')" id="nav-loot">üé≤ BATTLE</button>
<button onclick="showTab('table')" id="nav-table">‚öîÔ∏è TABLE</button>
<button onclick="showTab('upload')" id="nav-upload">üì∏ REPORT</button>
<button onclick="showTab('gallery')" id="nav-gallery">üíÄ MEMORIES</button>
<button onclick="showTab('live')" id="nav-live">üî¥ LIVE</button>
<button onclick="logout()" style="background:#000;color:#ff0000">EXIT</button>
</div>

<div id="onlinePanel">
<h4 style="color:#00ff00;text-align:center;margin-bottom:10px">‚ö° WARRIORS ONLINE NOW: <span id="onlineCount">0</span></h4>
<div id="onlineList"><p style="color:#666;width:100%;text-align:center">Scanning battlefield...</p></div>
</div>

<div id="home" class="card">
<h2 style="color:#ffd700">Commander: <span id="welcomeName"></span></h2>
<div class="stats">
<div class="stat-box"><h3 id="statDiv">-</h3><div>Division</div></div>
<div class="stat-box"><h3 id="statStr">-</h3><div>Strength</div></div>
<div class="stat-box"><h3 id="statRank">-</h3><div>Rank</div></div>
<div class="stat-box"><h3 id="statPts">0</h3><div>Points</div></div>
</div>
<p style="text-align:center;color:#ff0000;font-size:1.1em;margin-top:10px">"In war, there are no unwounded soldiers."</p>
</div>

<div id="loot" class="card hidden">
<h2 style="text-align:center;color:#ff0000">‚ò†Ô∏è DOOMSDAY DRAW ‚ò†Ô∏è</h2>
<p style="text-align:center;margin-bottom:15px;font-size:.9em">Touch the blood moon to summon your opponent</p>
<div class="lootbox" id="box" onclick="spinBox()">‚ò†Ô∏è</div>
<div id="matchResult" style="text-align:center;margin-top:20px;font-size:1.1em"></div>
</div>

<div id="table" class="card hidden" onclick="toggleFullscreen()">
<span class="expand-hint">TAP TO EXPAND</span>
<h2 style="color:#ffd700;text-align:center;margin-bottom:10px">‚öîÔ∏è KILLING FIELD STANDINGS ‚öîÔ∏è</h2>
<div style="overflow-x:auto">
<table id="miniTable">
<thead><tr><th>#</th><th>Warrior</th><th>Div</th><th>P</th><th>W</th><th>D</th><th>L</th><th>GD</th><th>Pts</th></tr></thead>
<tbody id="standings"></tbody>
</table>
</div>
</div>

<div id="upload" class="card hidden">
<h2 style="color:#ff0000">üì∏ Submit Battle Report</h2>
<div class="grid">
<div>
<input type="text" id="p1" placeholder="Your Name" readonly style="background:#333">
<input type="text" id="p2" placeholder="Opponent Name" required>
<div style="display:flex;gap:10px">
<input type="number" id="s1" placeholder="Your Score" required style="flex:1">
<input type="number" id="s2" placeholder="Their Score" required style="flex:1">
</div>
<input type="datetime-local" id="matchTime" required>
</div>
<div>
<div class="upload-area" onclick="document.getElementById('ss').click()">
<p style="font-size:1.1em">üì∑ UPLOAD EVIDENCE</p>
<p style="color:#888;font-size:.8em">Screenshot must match scores</p>
<input type="file" id="ss" accept="image/*" style="display:none" onchange="preview(this)">
<img id="preview" style="max-width:100%;margin-top:10px;display:none;border:3px solid #ff0000">
</div>
</div>
</div>
<button onclick="submitMatch()" style="background:#ff0000;font-size:1.1em;margin-top:15px">SUBMIT TO ARCHIVES</button>
</div>

<div id="gallery" class="card hidden">
<h2 style="color:#ffd700;text-align:center">üíÄ THE MEMORIES WE HAVE MADE üíÄ</h2>
<p style="text-align:center;color:#888;margin-bottom:15px;font-size:.9em">Proof of battles fought...</p>
<div id="galleryGrid"></div>
</div>

<div id="live" class="card hidden">
<h2 style="color:#00ff00">üî¥ LIVE BATTLE FEED</h2>
<div id="liveFeed" style="display:block"></div>
</div>
</div>

<div class="fullscreen" id="fsTable">
<button class="close-fs" onclick="toggleFullscreen()">‚úï</button>
<h2 style="color:#ffd700;text-align:center;margin:20px">‚öîÔ∏è FULL BATTLE STANDINGS ‚öîÔ∏è</h2>
<table>
<thead><tr><th>Position</th><th>Warrior</th><th>Division</th><th>Played</th><th>Won</th><th>Drawn</th><th>Lost</th><th>GF</th><th>GA</th><th>GD</th><th>Points</th></tr></thead>
<tbody id="fsStandings"></tbody>
</table>
</div>

<div class="music-player">
<input type="text" id="ytLink" placeholder="Paste YouTube link here" value="https://music.youtube.com/watch?v=1JltlSJH5bY">
<button onclick="loadMusic()" style="margin:0 0 10px 0;font-size:.8em">LOAD SONG</button>
<div id="player"></div>
<p id="tapHint">üîä Tap to play/pause</p>
</div>

</div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player,currentUser=null,spinning=false,ytId=null;

function onYouTubeIframeAPIReady(){}

function loadMusic(){
const link=document.getElementById('ytLink').value;
const match=link.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|music\.youtube\.com\/watch\?v=)([^&\s]+)/);
if(!match)return alert('Invalid YouTube link!');
ytId=match[1];
if(player)player.destroy();
player=new YT.Player('player',{height:'150',width:'100%',videoId:ytId,playerVars:{autoplay:0,loop:1},events:{onReady:e=>e.target.playVideo()}});
}

function init(){
const saved=localStorage.getItem('doomsdayDB');
const user=localStorage.getItem('currentUser');
if(saved){
const data=JSON.parse(saved);
DB.players=data.players||[];
DB.matches=data.matches||[];
DB.gallery=data.gallery||[];
DB.feed=data.feed||[];
}
if(user){
currentUser=JSON.parse(user);
showDashboard();
}
broadcastOnline();
setInterval(broadcastOnline,5000);
setInterval(updateOnlineList,5000);
setInterval(cleanupOffline,30000);
setInterval(simulateActivity,20000);
window.addEventListener('storage',syncData);
}

const DB={players:[],matches:[],gallery:[],feed:[]};

function broadcastOnline(){
if(!currentUser)return;
const online=JSON.parse(localStorage.getItem('onlineUsers')||'[]');
const idx=online.findIndex(x=>x.u===currentUser.u);
const data={u:currentUser.u,c:currentUser.c,d:currentUser.d,t:Date.now()};
if(idx>=0)online[idx]=data;else online.push(data);
localStorage.setItem('onlineUsers',JSON.stringify(online));
}

function updateOnlineList(){
const online=JSON.parse(localStorage.getItem('onlineUsers')||'[]');
const now=Date.now();
const active=online.filter(x=>now-x.t<15000);
document.getElementById('onlineCount').textContent=active.length;
document.getElementById('onlineList').innerHTML=active.length?active.map(p=>`<div class="online-card"><span class="online"></span>${p.c} <span class="div-tag">D${p.d}</span></div>`).join(''):'<p style="color:#666;width:100%;text-align:center">No warriors detected...</p>';
}

function cleanupOffline(){
const online=JSON.parse(localStorage.getItem('onlineUsers')||'[]');
const now=Date.now();
const active=online.filter(x=>now-x.t<60000);
localStorage.setItem('onlineUsers',JSON.stringify(active));
}

function syncData(e){
if(e.key==='doomsdayDB'){
const data=JSON.parse(e.newValue||'{}');
DB.players=data.players||DB.players;
DB.gallery=data.gallery||DB.gallery;
if(document.getElementById('table').classList.contains('hidden')===false)updateTable();
if(document.getElementById('gallery').classList.contains('hidden')===false)updateGallery();
}
}

function saveDB(){
localStorage.setItem('doomsdayDB',JSON.stringify(DB));
window.dispatchEvent(new StorageEvent('storage',{key:'doomsdayDB',newValue:JSON.stringify(DB)}));
}

function register(){
const u=document.getElementById('username').value,c=document.getElementById('coach').value,s=parseInt(document.getElementById('strength').value),p=document.getElementById('player').value,d=document.getElementById('division').value;
if(!u||!c||!s||!p||!d)return alert('FILL ALL FIELDS!');
const exists=DB.players.find(x=>x.u===u);
if(exists){
currentUser=exists;
saveDB();
showDashboard();
return;
}
currentUser={u,c,s,p,d:parseInt(d),pl:0,w:0,dr:0,l:0,gf:0,ga:0,gd:0,pts:0};
DB.players.push(currentUser);
saveDB();
showDashboard();
addFeed(`‚ò†Ô∏è ${c} [Div ${d}] joined the war!`,true);
}

function showDashboard(){
document.getElementById('login').classList.add('hidden');
document.getElementById('dashboard').classList.remove('hidden');
document.getElementById('mainNav').style.display='flex';
document.getElementById('welcomeName').textContent=currentUser.c;
document.getElementById('p1').value=currentUser.c;
document.getElementById('statDiv').textContent=currentUser.d;
document.getElementById('statStr').textContent=currentUser.s;
document.getElementById('statPts').textContent=currentUser.pts;
updateRank();
showTab('home');
updateTable();
updateGallery();
}

function updateRank(){
const sorted=DB.players.sort((a,b)=>b.pts-a.pts||b.gd-a.gd);
const idx=sorted.findIndex(x=>x.u===currentUser.u);
document.getElementById('statRank').textContent=idx>=0?'#'+(idx+1):'-';
}

function showTab(t){
['home','loot','table','upload','gallery','live'].forEach(x=>{
document.getElementById(x).classList.add('hidden');
document.getElementById('nav-'+x)?.classList.remove('active');
});
document.getElementById(t).classList.remove('hidden');
document.getElementById('nav-'+t)?.classList.add('active');
if(t==='table')updateTable();
if(t==='gallery')updateGallery();
}

function toggleFullscreen(){
document.getElementById('fsTable').classList.toggle('active');
updateTable();
}

function spinBox(){
if(spinning||DB.players.length<2)return;
spinning=true;
const b=document.getElementById('box'),m=document.getElementById('matchResult');
b.classList.add('spin');
m.innerHTML='<p style="color:#ff0000">SUMMONING...</p>';
setTimeout(()=>{
b.classList.remove('spin');
const enemies=DB.players.filter(x=>x.u!==currentUser.u);
const doom=enemies[Math.floor(Math.random()*enemies.length)];
m.innerHTML=`<div class="match"><div><div class="badge">YOU</div><h3>${currentUser.c}</h3><small>Div ${currentUser.d} | STR ${currentUser.s}</small></div><div class="vs">VS</div><div><div class="badge" style="background:#8b0000">FOE</div><h3>${doom.c}</h3><small>Div ${doom.d} | STR ${doom.s}</small></div></div><button onclick="document.getElementById('p2').value='${doom.c}';showTab('upload')" style="margin-top:15px;background:#ffd700;color:#000">RECORD RESULT</button>`;
b.classList.add('doom');
setTimeout(()=>b.classList.remove('doom'),3000);
spinning=false;
},2000);
}

function updateTable(){
const sorted=DB.players.sort((a,b)=>b.pts-a.pts||b.gd-a.gd);
const html=sorted.map((p,i)=>{
const cls=i===0?'pos1':i===1?'pos2':i===2?'pos3':'';
const status=JSON.parse(localStorage.getItem('onlineUsers')||'[]').find(x=>x.u===p.u&&Date.now()-x.t<15000)?'<span class="online"></span>':'';
return`<tr class="${cls}"><td>${i+1}</td><td>${p.c}${status}</td><td><span class="div-tag">D${p.d}</span></td><td>${p.pl}</td><td>${p.w}</td><td>${p.dr}</td><td>${p.l}</td><td style="color:${p.gd>0?'#0f0':p.gd<0?'#f00':'#fff'}">${p.gd>0?'+':''}${p.gd}</td><td style="color:#ffd700;font-weight:bold">${p.pts}</td></tr>`;
}).join('');
document.getElementById('standings').innerHTML=html;
document.getElementById('fsStandings').innerHTML=sorted.map((p,i)=>{
const cls=i===0?'pos1':i===1?'pos2':i===2?'pos3':'';
return`<tr class="${cls}"><td>${i+1}</td><td>${p.c}</td><td>D${p.d}</td><td>${p.pl}</td><td>${p.w}</td><td>${p.dr}</td><td>${p.l}</td><td>${p.gf}</td><td>${p.ga}</td><td>${p.gd>0?'+':''}${p.gd}</td><td style="font-size:1.3em">${p.pts}</td></tr>`;
}).join('');
}

function preview(i){
const f=i.files[0];
if(f){
const r=new FileReader();
r.onload=e=>{
document.getElementById('preview').src=e.target.result;
document.getElementById('preview').style.display='block';
};
r.readAsDataURL(f);
}
}

function submitMatch(){
const p1=document.getElementById('p1').value,p2=document.getElementById('p2').value,s1=parseInt(document.getElementById('s1').value),s2=parseInt(document.getElementById('s2').value),t=document.getElementById('matchTime').value,img=docume
